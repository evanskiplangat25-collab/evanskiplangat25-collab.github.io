import{c as _,a$ as oe,b0 as se,b1 as ne,b2 as S,b3 as ae,b as x,r as I,o as p,e as a,ab as D,b4 as re,b5 as R,aS as ie,a0 as M,a6 as le,a7 as L,x as $,i as P,q as T,w as y,aw as N,ac as h,an as E,a9 as F,aa as w,m as G,P as z,y as ue,b6 as ce,b7 as de,b8 as K,l as W,d as pe,aJ as q,aM as me,b9 as fe,aN as ge,ba as Pe,aK as U,aL as _e,bb as ve,aQ as he,aO as be,ad as ye}from"./D-X16EwL.js";import{_ as Ce}from"./D0fLU9-5.js";import{h as H,M as De}from"./B6b-pcuS.js";import"./iik6CYzq.js";function J(n,o,t=0){const c={title:"label",path:"to"},e=Object.keys(n).reduce((r,d)=>{if(n[d]){const V=c[d]||d;r[V]=n[d]}return r},{});return Array.isArray(n.children)?e.children=n.children.map(r=>J(r,o,t+1)):e.children=[],e}function xe(n,o){return n.map(t=>J(t,o))}const Q=["ProseADVue","ProseA","ProseAccordionDVue","ProseAccordion","ProseAccordionItemDVue","ProseAccordionItem","ProseBadgeDVue","ProseBadge","ProseBlockquoteDVue","ProseBlockquote","ProseCalloutDVue","ProseCallout","ProseCardDVue","ProseCard","ProseCardGroupDVue","ProseCardGroup","ProseCodeDVue","ProseCode","ProseCodeCollapseDVue","ProseCodeCollapse","ProseCodeGroupDVue","ProseCodeGroup","ProseCodeIconDVue","ProseCodeIcon","ProseCodePreviewDVue","ProseCodePreview","ProseCodeTreeDVue","ProseCodeTree","ProseCollapsibleDVue","ProseCollapsible","ProseEmDVue","ProseEm","ProseFieldDVue","ProseField","ProseFieldGroupDVue","ProseFieldGroup","ProseH1DVue","ProseH1","ProseH2DVue","ProseH2","ProseH3DVue","ProseH3","ProseH4DVue","ProseH4","ProseHrDVue","ProseHr","ProseIconDVue","ProseIcon","ProseImgDVue","ProseImg","ProseKbdDVue","ProseKbd","ProseLiDVue","ProseLi","ProseOlDVue","ProseOl","ProsePDVue","ProseP","ProsePreDVue","ProsePre","ProseScriptDVue","ProseScript","ProseStepsDVue","ProseSteps","ProseStrongDVue","ProseStrong","ProseTableDVue","ProseTable","ProseTabsDVue","ProseTabs","ProseTabsItemDVue","ProseTabsItem","ProseTbodyDVue","ProseTbody","ProseTdDVue","ProseTd","ProseThDVue","ProseTh","ProseTheadDVue","ProseThead","ProseTrDVue","ProseTr","ProseUlDVue","ProseUl","ProseCautionDVue","ProseCaution","ProseNoteDVue","ProseNote","ProseTipDVue","ProseTip","ProseWarningDVue","ProseWarning","ProseH5","ProseH6","Icon"],X=[],Ve=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:Q,localComponents:X},Symbol.toStringTag,{value:"Module"})),ke={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(n){const o=["render","ssrRender","__ssrInlineRender"],t=n,c=import.meta.preview,e=_(()=>{let s=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(s=t.value.excerpt),s.type==="minimal"||s.type==="minimark"?oe({value:s.value}):s}),r=_(()=>!e.value?.children?.length),d=_(()=>{const{body:s,excerpt:l,...u}=t.value;return{...u,...t.data}}),V=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(s=>[s,`prose-${s}`])),{mdc:i}=se().public||{},k=_(()=>t.data.mdc),C=_(()=>({...i?.components?.prose&&t.prose!==!1?V:{},...i?.components?.map||{},...ne(k.value?.components||{}),...t.components})),j=_(()=>e.value?m(e.value,{tags:C.value}):{});function A(s){let l=s;if(typeof s=="string"){if(H.includes(s))return s;if(Q.includes(S(s))?l=re(s,!1):X.includes(S(s))&&(l=R(()=>ie(()=>Promise.resolve().then(()=>Ve),void 0,import.meta.url).then(f=>{const g=f[S(s)];return g?g():void 0}))),typeof l=="string")return l}if(!l)return l;const u=l;return"__asyncLoader"in u?u:"setup"in u?R(()=>Promise.resolve(u)):u}function m(s,l){if(!s)return;const u=Array.from(new Set(b(s,l))),v={};for(const[f,g]of u)if(!v[f]){if(typeof g=="object"&&o.some(B=>Object.hasOwnProperty.call(g,B))){v[f]=g;continue}v[f]=A(g)}return v}function b(s,l){const u=s.tag;if(s.type==="text"||u==="binding"||s.type==="comment")return[];const v=O(s,l.tags),f=[];s.type!=="root"&&!H.includes(v)&&f.push([u,v]);for(const g of s.children||[])f.push(...b(g,l));return f}function O(s,l){const u=s.tag;return!u||typeof s.props?.__ignoreMap<"u"?u:l[u]||l[S(u)]||l[ae(s.tag)]||u}return(s,l)=>r.value?I(s.$slots,"empty",{key:1,body:e.value,data:d.value,dataContentId:a(c)?n.value.id:void 0}):(p(),x(De,{key:0,body:e.value,data:d.value,class:D(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:j.value,"data-content-id":a(c)?n.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Te=Object.assign(ke,{__name:"ContentRenderer"}),Ie={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},we={key:1,class:"hidden lg:block"},$e=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:null,required:!1},nextIcon:{type:null,required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(n){const o=n,t=M(),[c,e]=le({props:{link:Object,icon:String,direction:String}}),r=_(()=>L({extend:L(Ie),...t.ui?.contentSurround||{}})());return(d,V)=>(p(),$(ue,null,[P(a(c),null,{default:y(({link:i,icon:k,direction:C})=>[i?(p(),x(N,{key:0,to:i.path,raw:"","data-slot":"link",class:D(r.value.link({class:[o.ui?.link,i.ui?.link,i.class],direction:C}))},{default:y(()=>[I(d.$slots,"link",{link:i,ui:r.value},()=>[h("div",{"data-slot":"linkLeading",class:D(r.value.linkLeading({class:[o.ui?.linkLeading,i.ui?.linkLeading]}))},[I(d.$slots,"link-leading",{link:i,ui:r.value},()=>[P(E,{name:i.icon||k,"data-slot":"linkLeadingIcon",class:D(r.value.linkLeadingIcon({class:[o.ui?.linkLeadingIcon,i.ui?.linkLeadingIcon],direction:C}))},null,8,["name","class"])])],2),h("p",{"data-slot":"linkTitle",class:D(r.value.linkTitle({class:[o.ui?.linkTitle,i.ui?.linkTitle]}))},[I(d.$slots,"link-title",{link:i,ui:r.value},()=>[F(w(i.title),1)])],2),h("p",{"data-slot":"linkDescription",class:D(r.value.linkDescription({class:[o.ui?.linkDescription,i.ui?.linkDescription]}))},[I(d.$slots,"link-description",{link:i,ui:r.value},()=>[F(w(i.description),1)])],2)])]),_:2},1032,["to","class"])):(p(),$("span",we,"Â "))]),_:3}),n.surround?(p(),x(a(z),G({key:0,as:n.as},d.$attrs,{"data-slot":"root",class:r.value.root({class:[o.ui?.root,o.class]})}),{default:y(()=>[P(a(e),{link:n.surround[0],icon:n.prevIcon||a(t).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),P(a(e),{link:n.surround[1],icon:n.nextIcon||a(t).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):T("",!0)],64))}}),Se={base:"mt-8 pb-24 space-y-12"},Le={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(n){const o=n,t=M(),c=_(()=>L({extend:L(Se),...t.ui?.pageBody||{}}));return(e,r)=>(p(),x(a(z),{as:n.as,class:D(c.value({class:o.class}))},{default:y(()=>[I(e.$slots,"default")]),_:3},8,["as","class"]))}};function je(n,o="Copied to clipboard"){const t=ce();navigator.clipboard.writeText(n).then(()=>{t.add({title:o,color:"success",icon:"i-lucide-check-circle"})})}function Y(n,o,t){return!n?.length||!o?[]:n.reduce((c,e)=>(o&&(o+"/").startsWith(e.path+"/")&&((o!==e.path||t?.current||t?.indexAsChild)&&c.push(e),e.children&&c.push(...Y(e.children.filter(r=>r.path!==e.path||r.path===o&&t?.current&&t?.indexAsChild),o,t))),c),[])}function Z(n={}){const o=de(),c=K().path||"/";if(o.payload.path===c){const e=W(!1);e.value=!0}}function Ae(n,o={},t={}){return Z({...t})}const Oe={class:"flex flex-col gap-3 mt-8"},Be={class:"flex text-xs text-muted items-center justify-center gap-2"},Fe={key:0},Re={key:1},qe={key:2},Ue=["src","alt"],He={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},Me={class:"text-muted text-center max-w-2xl mx-auto"},Ne={class:"flex items-center justify-center gap-2 mt-2"},Ee={class:"flex items-center justify-end gap-2 text-sm text-muted"},Qe=pe({__name:"[...slug]",async setup(n){let o,t;const c=K(),{data:e}=([o,t]=q(()=>U(c.path,()=>_e("blog").path(c.path).first(),"$DquttgHoet")),o=await o,t(),o);if(!e.value)throw me({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:r}=([o,t]=q(()=>U(`${c.path}-surround`,()=>ve("blog",c.path,{fields:["description"]}))),o=await o,t(),o),d=fe("navigation",W([])),V=_(()=>d.value.find(m=>m.path==="/blog")?.children||[]),i=_(()=>xe(Y(V?.value,e.value?.path)).map(({icon:m,...b})=>b));e.value.image?Z({url:e.value.image}):Ae("Blog",{headline:i.value.map(m=>m.label).join(" > ")},{fonts:["Geist:400","Geist:600"]});const k=e.value?.seo?.title||e.value?.title,C=e.value?.seo?.description||e.value?.description;ge({title:k,description:C,ogDescription:C,ogTitle:k});const j=_(()=>`${window?.location}`),A=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(m,b)=>{const O=E,s=N,l=Ce,u=Te,v=ye,f=$e,g=Le,B=be,ee=he,te=Pe;return p(),x(te,{class:"mt-20 px-2"},{default:y(()=>[P(ee,{class:"relative min-h-screen"},{default:y(()=>[a(e)?(p(),x(B,{key:0},{default:y(()=>[P(s,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:y(()=>[P(O,{name:"lucide:chevron-left"}),b[1]||(b[1]=F(" Blog ",-1))]),_:1}),h("div",Oe,[h("div",Be,[a(e).date?(p(),$("span",Fe,w(A(a(e).date)),1)):T("",!0),a(e).date&&a(e).minRead?(p(),$("span",Re," - ")):T("",!0),a(e).minRead?(p(),$("span",qe,w(a(e).minRead)+" MIN READ ",1)):T("",!0)]),h("img",{src:a(e).image,alt:a(e).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,Ue),h("h1",He,w(a(e).title),1),h("p",Me,w(a(e).description),1),h("div",Ne,[P(l,G({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},a(e).author),null,16)])]),P(g,{class:"max-w-3xl mx-auto"},{default:y(()=>[a(e).body?(p(),x(u,{key:0,value:a(e)},null,8,["value"])):T("",!0),h("div",Ee,[P(v,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:b[0]||(b[0]=Ge=>("copyToClipboard"in m?m.copyToClipboard:a(je))(a(j),"Article link copied to clipboard"))})]),P(f,{surround:a(r)},null,8,["surround"])]),_:1})]),_:1})):T("",!0)]),_:1})]),_:1})}}});export{Qe as default};
